description: Common firewall rules for BALINFE and BAWINFE
firewall:
- name: outgoing_backnet
  description: outgoing connections in backnet
  policy: allow
  group: yes
  direction: outgoing
  networks: [backnet]
  protos: [TCP]
  type: infra
  rules:
  - ports: 8440
    connect_with: { roles: [linmn, winmn] }
  - ports: 80,443,8443
    connect_with: { roles: [balinos, bawinos] }
- name: outgoing_frontnet
  description: outgoing connections in frontnet
  group: yes
  policy: allow
  direction: outgoing
  type: infra
  protos: [TCP]
  networks: [frontnet]
  rules:
  - ports: 21,443,8443,60000-65534
    connect_with: { roles: [branding] }
  - ports: 21,443,8443,1024-65534
    connect_with: { roles: [winbr, wincpnlb] }
- name: incoming_backnet
  description: incoming connections in backnet
  policy: allow
  direction: outgoing
  type: infra
  protos: [TCP]
  networks: [backnet]
  ports: 5224
  connect_with: 
    roles: [linmn, winmn, balinos, bawinos]
- name: incoming_frontnet
  description: incoming connections in frontnet
  policy: allow
  direction: incoming
  type: infra
  protos: [TCP]
  networks: [frontnet]
  ports: 443,8443
  connect_with:
    roles: [branding, winbr, wincpnlb, linpps, winpps]

